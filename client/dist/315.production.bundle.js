"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[315],{1315:(e,n,t)=>{t.r(n),t.d(n,{default:()=>a});var s=t(6540),r=t(6266),l=(t(6378),t(4961),t(3893),t(5093)),o=t.n(l);const c=(0,s.lazy)((()=>t.e(96).then(t.bind(t,1105))));r.A.defaults.withCredentials=!0;const a=function(e){let{userId:n,expiry:t,setExpiry:r,startSession:l,killSession:a}=e;const[i,u]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{if(t&&n){const e=setInterval((()=>{const e=o()(),n=o()(t),s=n.diff(e),l=o().duration(s).seconds();console.log("Expiry in ".concat(l," seconds.")),i&&l<=0?a():r(n.add(500,"millisecond").format())}),500);return()=>clearInterval(e)}console.log("No expiry or userId set. Expiry: "+t+", userId: "+n),r(null),u(!0)}),[n,t,r,a,i]),s.createElement(s.Fragment,null,s.createElement(c,{className:"col-md-12"},s.createElement("p",null,"Welcome back! Your user ID is: ",s.createElement("span",{style:{fontWeight:"bold"}},n)),s.createElement("p",null,"Session expires in:"," ",t?s.createElement("span",null,o().duration(o()(t).diff(o()())).seconds()):"unknown"),s.createElement("button",{className:"button create",onClick:function(){try{l()}catch(e){console.error("Error creating new session:",e)}}},"Create session"),s.createElement("button",{className:"button delete",onClick:function(){try{a()}catch(e){console.error("Error deleting session:",e)}}},"Delete Session")))}}}]);